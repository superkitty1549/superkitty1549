<!doctype html>
<html>
    <head>
        <title>Kits 4 Kids | Snake</title>

        <link rel="stylesheet" href="nav.css" />
        <link rel="stylesheet" href="index.css" />

        <script src="https://js-dos.com/6.22/current/js-dos.js"></script>
        <style>
            body {
                margin: 0;
                background: #c2daf5;
            }
            #dosbox {
                width: 80vw;
                height: 60vh;
                margin: auto;
            }
        </style>
    </head>
    <body>
        <nav>
            <ul>
                <a class="navi" href="../index.html">Home</a>
                <a class="navi" href="about.html">About</a>
                <a class="navi" href="events.html">History</a>
                <a class="navi" href="contact.html">Contact</a>
                <a class="navi active" href="snake.html">Snake</a>
            </ul>
        </nav>

        <p id="header">snake</p>
        <p id="intro" style="padding: 0px 25px 0px 25px">
            here's a snake game made in brainfuck.
        </p>


        <select id="program">
            <option value="snake.b">snake.b</option>
            <option value="badapple.b">badapple.b</option>
        </select>
        <button onclick="run()">Run</button>
        <div id="output"></div>

        <script src="brainfuck.js"></script>
        <script>
            async function run() {
              const file = document.getElementById("program").value;
              const outputDiv = document.getElementById("output");
              outputDiv.textContent = `Loading ${file}...\n`;

              try {
                const res = await fetch(file);
                const code = await res.text();

                outputDiv.textContent = "";
                runBF(code, "", c => outputDiv.textContent += c);
              } catch (err) {
                outputDiv.textContent += "Error: " + err.message;
              }
            }
        </script>

        <!--- <div id="dosbox"></div>
        <script>
            Dos(document.getElementById('dosbox'), {
                wdosboxUrl: 'https://js-dos.com/6.22/current/wdosbox.js',
            }).ready(async (fs, main) => {
                try {
                    const response = await fetch('https://superkitty1549.github.io/superkitty1549/src/snake.zip');
                    if (!response.ok) throw new Error(`Fetch failed: ${response.status}`);
                    const arrayBuffer = await response.arrayBuffer();
                    await fs.extract(new Uint8Array(arrayBuffer));
                    main(['-c', 'snake.exe']);
                } catch (e) {
                    alert(`Failed to start game: ${e.message}`)
                    console.error(e)
                }
            })
        </script> -->
    </body>
</html>
